From 586fa2e0f73ba4dcfcbaa83ac0c294abb694254d Mon Sep 17 00:00:00 2001
From: ferhung-mtk <ferhung27@gmail.com>
Date: Sun, 17 Apr 2016 17:06:12 +0800
Subject: [PATCH] MediaTek: Add support for mt6582 & mt6592.

---
 init/Android.mk | 8 ++++++++
 init/init.cpp   | 8 +++++++-
 2 files changed, 15 insertions(+), 1 deletion(-)

diff --git a/init/Android.mk b/init/Android.mk
index aa322361cd..e0e6739308 100644
--- a/init/Android.mk
+++ b/init/Android.mk
@@ -68,6 +68,14 @@ ifneq ($(TARGET_IGNORE_RO_BOOT_REVISION),)
 LOCAL_CFLAGS += -DIGNORE_RO_BOOT_REVISION
 endif
 
+ifeq ($(TARGET_BOARD_PLATFORM),mt6582)
+LOCAL_CFLAGS += -DMTK_MT6582
+endif
+
+ifeq ($(TARGET_BOARD_PLATFORM),mt6592)
+LOCAL_CFLAGS += -DMTK_MT6592
+endif
+
 LOCAL_MODULE:= init
 LOCAL_C_INCLUDES += \
     external/zlib \
diff --git a/init/init.cpp b/init/init.cpp
index fcd71874e6..f20c1d5ca6 100644
--- a/init/init.cpp
+++ b/init/init.cpp
@@ -817,7 +817,13 @@ static void export_kernel_boot_props() {
         { "ro.boot.mode",       "ro.bootmode",   "unknown", },
         { "ro.boot.baseband",   "ro.baseband",   "unknown", },
         { "ro.boot.bootloader", "ro.bootloader", "unknown", },
-        { "ro.boot.hardware",   "ro.hardware",   "unknown", },
+#ifdef MTK_MT6582     
+        { "ro.boot.hardware",   "ro.hardware",   "mt6582", },
+#endif
+#ifdef MTK_MT6592     
+        { "ro.boot.hardware",   "ro.hardware",   "mt6592", },
+#endif  
+
 #ifndef IGNORE_RO_BOOT_REVISION
         { "ro.boot.revision",   "ro.revision",   "0", },
 #endif
